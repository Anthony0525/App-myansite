{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"main-content\"\n};\nconst _hoisted_4 = {\n  class: \"card-header\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"sidebar\"\n};\nconst _hoisted_8 = {\n  class: \"suggestions\"\n};\nconst _hoisted_9 = {\n  class: \"suggestions-list\"\n};\nconst _hoisted_10 = {\n  key: 2,\n  class: \"loader\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [!$setup.menuAbierto ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: $setup.toggleMenu,\n    class: \"menu-toggle\"\n  }, \"☰\")) : _createCommentVNode(\"v-if\", true), $setup.menuAbierto ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: $setup.toggleMenu,\n    class: \"back-toggle\"\n  }, \"⬅\")) : _createCommentVNode(\"v-if\", true), _withDirectives(_createElementVNode(\"nav\", _hoisted_1, _cache[0] || (_cache[0] = [_createStaticVNode(\"<ul><li><a href=\\\"#\\\">Inicio</a></li><li><a href=\\\"#\\\">Explorar</a></li><li><a href=\\\"#\\\">Publicar</a></li><li><a href=\\\"#\\\">Chats</a></li><li><a href=\\\"#\\\">Perfil</a></li></ul>\", 1)]), 512 /* NEED_PATCH */), [[_vShow, $setup.menuAbierto]]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"main\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.publicaciones, pub => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: pub.id,\n      class: \"card\"\n    }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n      src: pub.perfiles?.icono_url || 'https://i.pravatar.cc/40',\n      class: \"perfil-icono\"\n    }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"span\", null, _toDisplayString(pub.perfiles?.nombre_perfil || \"Anónimo\"), 1 /* TEXT */)]), _createElementVNode(\"h2\", null, _toDisplayString(pub.nombre_publicacion), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(pub.descripcion), 1 /* TEXT */), pub.media_url ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: pub.media_url,\n      class: \"media\"\n    }, null, 8 /* PROPS */, _hoisted_6)) : _createCommentVNode(\"v-if\", true), _cache[1] || (_cache[1] = _createElementVNode(\"button\", {\n      class: \"btn-similares\"\n    }, \"Mostrar similares\", -1 /* HOISTED */))]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"aside\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[2] || (_cache[2] = _createElementVNode(\"p\", {\n    class: \"suggestions-title\"\n  }, \"Sugerencias\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(6, i => {\n    return _createElementVNode(\"div\", {\n      key: i,\n      class: \"suggestion-icon\",\n      style: _normalizeStyle(`background-image:url(https://i.pravatar.cc/50?img=${i})`)\n    }, null, 4 /* STYLE */);\n  }), 64 /* STABLE_FRAGMENT */))])])])]), $setup.cargando ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \"Cargando...\")) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_Fragment","$setup","menuAbierto","onClick","toggleMenu","_createCommentVNode","_createElementVNode","_hoisted_1","_cache","_createStaticVNode","_hoisted_2","_hoisted_3","_renderList","publicaciones","pub","id","_hoisted_4","src","perfiles","icono_url","_hoisted_5","_toDisplayString","nombre_perfil","nombre_publicacion","descripcion","media_url","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","i","style","_normalizeStyle","cargando","_hoisted_10"],"sources":["C:\\Users\\ellen\\Downloads\\App en Vue\\Myansite\\Myansite\\src\\views\\ContenidoView.vue"],"sourcesContent":["<template>\r\n  <button @click=\"toggleMenu\" v-if=\"!menuAbierto\" class=\"menu-toggle\">☰</button>\r\n  <button @click=\"toggleMenu\" v-if=\"menuAbierto\" class=\"back-toggle\">⬅</button>\r\n\r\n  <nav v-show=\"menuAbierto\" class=\"navbar\">\r\n    <ul>\r\n      <li><a href=\"#\">Inicio</a></li>\r\n      <li><a href=\"#\">Explorar</a></li>\r\n      <li><a href=\"#\">Publicar</a></li>\r\n      <li><a href=\"#\">Chats</a></li>\r\n      <li><a href=\"#\">Perfil</a></li>\r\n    </ul>\r\n  </nav>\r\n\r\n  <div class=\"container\">\r\n    <main class=\"main-content\">\r\n      <div v-for=\"pub in publicaciones\" :key=\"pub.id\" class=\"card\">\r\n        <div class=\"card-header\">\r\n          <img :src=\"pub.perfiles?.icono_url || 'https://i.pravatar.cc/40'\" class=\"perfil-icono\"/>\r\n          <span>{{ pub.perfiles?.nombre_perfil || \"Anónimo\" }}</span>\r\n        </div>\r\n        <h2>{{ pub.nombre_publicacion }}</h2>\r\n        <p>{{ pub.descripcion }}</p>\r\n        <img v-if=\"pub.media_url\" :src=\"pub.media_url\" class=\"media\"/>\r\n        <button class=\"btn-similares\">Mostrar similares</button>\r\n      </div>\r\n    </main>\r\n\r\n    <aside class=\"sidebar\">\r\n      <div class=\"suggestions\">\r\n        <p class=\"suggestions-title\">Sugerencias</p>\r\n        <div class=\"suggestions-list\">\r\n          <div v-for=\"i in 6\" :key=\"i\" class=\"suggestion-icon\"\r\n            :style=\"`background-image:url(https://i.pravatar.cc/50?img=${i})`\"></div>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  </div>\r\n\r\n  <div v-if=\"cargando\" class=\"loader\">Cargando...</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\"\r\nimport { createClient } from \"@supabase/supabase-js\"\r\nimport \"@/assets/css/contenido.css\"\r\n\r\nconst supabase = createClient(\"https://neffqwnqpcydidpkysfi.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5lZmZxd25xcGN5ZGlkcGt5c2ZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3Nzc5MTUsImV4cCI6MjA3MjM1MzkxNX0.I_fwrJYMhKoh2Irlhqub3B5Kn4-JxuJR-XnLhGjUykw\")\r\n\r\nconst publicaciones = ref([])\r\nconst cargando = ref(false)\r\nconst pagina = ref(0)\r\nconst limite = 5\r\nconst menuAbierto = ref(false)\r\n\r\nfunction toggleMenu() {\r\n  menuAbierto.value = !menuAbierto.value\r\n}\r\n\r\nasync function cargarPublicaciones() {\r\n  cargando.value = true\r\n  const { data, error } = await supabase.from(\"publicaciones\")\r\n    .select(`id, nombre_publicacion, descripcion, media_url, perfiles (nombre_perfil, icono_url)`)\r\n    .order(\"created_at\", { ascending: false })\r\n    .range(pagina.value * limite, (pagina.value + 1) * limite - 1)\r\n\r\n  cargando.value = false\r\n  if (!error && data.length) {\r\n    publicaciones.value.push(...data)\r\n    pagina.value++\r\n  }\r\n}\r\n\r\nfunction handleScroll() {\r\n  if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\r\n    cargarPublicaciones()\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  cargarPublicaciones()\r\n  window.addEventListener(\"scroll\", handleScroll)\r\n})\r\n</script>\r\n"],"mappings":";;EAI4BA,KAAK,EAAC;AAAQ;;EAUnCA,KAAK,EAAC;AAAW;;EACdA,KAAK,EAAC;AAAc;;EAEjBA,KAAK,EAAC;AAAa;mBAjBhC;mBAAA;;EA4BWA,KAAK,EAAC;AAAS;;EACfA,KAAK,EAAC;AAAa;;EAEjBA,KAAK,EAAC;AAAkB;;EA/BrCC,GAAA;EAuCuBD,KAAK,EAAC;;;uBAvC7BE,mBAAA,CAAAC,SAAA,S,CACqCC,MAAA,CAAAC,WAAW,I,cAA9CH,mBAAA,CAA8E;IADhFD,GAAA;IACWK,OAAK,EAAEF,MAAA,CAAAG,UAAU;IAAsBP,KAAK,EAAC;KAAc,GAAC,KADvEQ,mBAAA,gBAEoCJ,MAAA,CAAAC,WAAW,I,cAA7CH,mBAAA,CAA6E;IAF/ED,GAAA;IAEWK,OAAK,EAAEF,MAAA,CAAAG,UAAU;IAAqBP,KAAK,EAAC;KAAc,GAAC,KAFtEQ,mBAAA,gB,gBAIEC,mBAAA,CAQM,OARNC,UAQM,EAAAC,MAAA,QAAAA,MAAA,OAZRC,kBAAA,yL,oCAIeR,MAAA,CAAAC,WAAW,E,GAUxBI,mBAAA,CAuBM,OAvBNI,UAuBM,GAtBJJ,mBAAA,CAWO,QAXPK,UAWO,I,kBAVLZ,mBAAA,CASMC,SAAA,QAzBZY,WAAA,CAgByBX,MAAA,CAAAY,aAAa,EAApBC,GAAG;yBAAff,mBAAA,CASM;MAT6BD,GAAG,EAAEgB,GAAG,CAACC,EAAE;MAAElB,KAAK,EAAC;QACpDS,mBAAA,CAGM,OAHNU,UAGM,GAFJV,mBAAA,CAAwF;MAAlFW,GAAG,EAAEH,GAAG,CAACI,QAAQ,EAAEC,SAAS;MAAgCtB,KAAK,EAAC;4BAlBlFuB,UAAA,GAmBUd,mBAAA,CAA2D,cAAAe,gBAAA,CAAlDP,GAAG,CAACI,QAAQ,EAAEI,aAAa,8B,GAEtChB,mBAAA,CAAqC,YAAAe,gBAAA,CAA9BP,GAAG,CAACS,kBAAkB,kBAC7BjB,mBAAA,CAA4B,WAAAe,gBAAA,CAAtBP,GAAG,CAACU,WAAW,kBACVV,GAAG,CAACW,SAAS,I,cAAxB1B,mBAAA,CAA8D;MAvBtED,GAAA;MAuBmCmB,GAAG,EAAEH,GAAG,CAACW,SAAS;MAAE5B,KAAK,EAAC;4BAvB7D6B,UAAA,KAAArB,mBAAA,gB,0BAwBQC,mBAAA,CAAwD;MAAhDT,KAAK,EAAC;IAAe,GAAC,mBAAiB,qB;oCAInDS,mBAAA,CAQQ,SARRqB,UAQQ,GAPNrB,mBAAA,CAMM,OANNsB,UAMM,G,0BALJtB,mBAAA,CAA4C;IAAzCT,KAAK,EAAC;EAAmB,GAAC,aAAW,sBACxCS,mBAAA,CAGM,OAHNuB,UAGM,I,cAFJ9B,mBAAA,CAC2EC,SAAA,QAjCrFY,WAAA,CAgC2B,CAAC,EAANkB,CAAC;WAAbxB,mBAAA,CAC2E;MADtDR,GAAG,EAAEgC,CAAC;MAAEjC,KAAK,EAAC,iBAAiB;MACjDkC,KAAK,EAjClBC,eAAA,sDAiCyEF,CAAC;;0CAM7D7B,MAAA,CAAAgC,QAAQ,I,cAAnBlC,mBAAA,CAAqD,OAArDmC,WAAqD,EAAjB,aAAW,KAvCjD7B,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}