{"ast":null,"code":"import { ref, computed, onMounted, onBeforeUnmount } from \"vue\";\nimport axios from \"axios\";\nimport \"../assets/AnimeView.css\";\nexport default {\n  __name: 'AnimeView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const animes = ref([]);\n    const showModal = ref(false);\n    const selectedAnime = ref(null);\n    const selectedAnimeImage = computed(() => {\n      if (!selectedAnime.value) return \"\";\n      return selectedAnime.value.images?.jpg?.large_image_url || selectedAnime.value.images?.jpg?.image_url || \"\";\n    });\n    const loadAnimes = async () => {\n      try {\n        // ðŸ”¹ AquÃ­ puedes usar una API real (ej: Jikan API de MyAnimeList)\n        const {\n          data\n        } = await axios.get(\"https://api.jikan.moe/v4/top/anime\");\n        animes.value = data.data; // La API devuelve los animes en `data.data`\n      } catch (err) {\n        console.error(\"Error cargando animes:\", err);\n      }\n    };\n    const showDetail = anime => {\n      selectedAnime.value = anime;\n      showModal.value = true;\n    };\n    const closeModal = () => {\n      showModal.value = false;\n      selectedAnime.value = null;\n    };\n    const handleClickOutside = event => {\n      if (event.target === document.getElementById(\"animeModal\")) {\n        closeModal();\n      }\n    };\n    onMounted(() => {\n      loadAnimes();\n      window.addEventListener(\"click\", handleClickOutside);\n    });\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"click\", handleClickOutside);\n    });\n    const __returned__ = {\n      animes,\n      showModal,\n      selectedAnime,\n      selectedAnimeImage,\n      loadAnimes,\n      showDetail,\n      closeModal,\n      handleClickOutside,\n      ref,\n      computed,\n      onMounted,\n      onBeforeUnmount,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onBeforeUnmount","axios","animes","showModal","selectedAnime","selectedAnimeImage","value","images","jpg","large_image_url","image_url","loadAnimes","data","get","err","console","error","showDetail","anime","closeModal","handleClickOutside","event","target","document","getElementById","window","addEventListener","removeEventListener"],"sources":["C:/Users/ellen/Downloads/proyectoxample/proyectoxample/src/views/AnimeView.vue"],"sourcesContent":["<template>\r\n  <div class=\"anime-view\">\r\n    <!-- Contenedor de cards -->\r\n    <div id=\"charactersContainer\" class=\"characters-container\">\r\n      <div \r\n        v-for=\"anime in animes\" \r\n        :key=\"anime.id\" \r\n        class=\"character-card\"\r\n        @click=\"showDetail(anime)\"\r\n      >\r\n        <img :src=\"anime.images?.jpg?.image_url || ''\" :alt=\"anime.title\" />\r\n        <h3>{{ anime.title }}</h3>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal para detalle de anime -->\r\n    <div id=\"animeModal\" class=\"modal\" :style=\"{ display: showModal ? 'flex' : 'none' }\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"closeModal\">&times;</span>\r\n        <img id=\"modalImg\" :src=\"selectedAnimeImage\" alt=\"Anime\" />\r\n        <h2 id=\"modalTitle\">{{ selectedAnime?.title }}</h2>\r\n        <p id=\"modalSynopsis\">{{ selectedAnime?.synopsis || 'Sinopsis no disponible.' }}</p>\r\n        <p><strong>Tipo:</strong> <span id=\"modalType\">{{ selectedAnime?.type }}</span></p>\r\n        <p><strong>Episodios:</strong> <span id=\"modalEpisodes\">{{ selectedAnime?.episodes || 'Desconocido' }}</span></p>\r\n        <p><strong>AÃ±o:</strong> <span id=\"modalYear\">{{ selectedAnime?.year || 'N/A' }}</span></p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onBeforeUnmount } from \"vue\";\r\nimport axios from \"axios\";\r\nimport \"../assets/AnimeView.css\";\r\n\r\nconst animes = ref([]);\r\nconst showModal = ref(false);\r\nconst selectedAnime = ref(null);\r\n\r\nconst selectedAnimeImage = computed(() => {\r\n  if (!selectedAnime.value) return \"\";\r\n  return (\r\n    selectedAnime.value.images?.jpg?.large_image_url ||\r\n    selectedAnime.value.images?.jpg?.image_url ||\r\n    \"\"\r\n  );\r\n});\r\n\r\nconst loadAnimes = async () => {\r\n  try {\r\n    // ðŸ”¹ AquÃ­ puedes usar una API real (ej: Jikan API de MyAnimeList)\r\n    const { data } = await axios.get(\"https://api.jikan.moe/v4/top/anime\");\r\n    animes.value = data.data; // La API devuelve los animes en `data.data`\r\n  } catch (err) {\r\n    console.error(\"Error cargando animes:\", err);\r\n  }\r\n};\r\n\r\nconst showDetail = (anime) => {\r\n  selectedAnime.value = anime;\r\n  showModal.value = true;\r\n};\r\n\r\nconst closeModal = () => {\r\n  showModal.value = false;\r\n  selectedAnime.value = null;\r\n};\r\n\r\nconst handleClickOutside = (event) => {\r\n  if (event.target === document.getElementById(\"animeModal\")) {\r\n    closeModal();\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  loadAnimes();\r\n  window.addEventListener(\"click\", handleClickOutside);\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener(\"click\", handleClickOutside);\r\n});\r\n</script>\r\n"],"mappings":"AA+BA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,eAAe,QAAQ,KAAK;AAC/D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,yBAAyB;;;;;;;IAEhC,MAAMC,MAAM,GAAGL,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMM,SAAS,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMO,aAAa,GAAGP,GAAG,CAAC,IAAI,CAAC;IAE/B,MAAMQ,kBAAkB,GAAGP,QAAQ,CAAC,MAAM;MACxC,IAAI,CAACM,aAAa,CAACE,KAAK,EAAE,OAAO,EAAE;MACnC,OACEF,aAAa,CAACE,KAAK,CAACC,MAAM,EAAEC,GAAG,EAAEC,eAAe,IAChDL,aAAa,CAACE,KAAK,CAACC,MAAM,EAAEC,GAAG,EAAEE,SAAS,IAC1C,EAAE;IAEN,CAAC,CAAC;IAEF,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF;QACA,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,GAAG,CAAC,oCAAoC,CAAC;QACtEX,MAAM,CAACI,KAAK,GAAGM,IAAI,CAACA,IAAI,CAAC,CAAC;MAC5B,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC;MAC9C;IACF,CAAC;IAED,MAAMG,UAAU,GAAIC,KAAK,IAAK;MAC5Bd,aAAa,CAACE,KAAK,GAAGY,KAAK;MAC3Bf,SAAS,CAACG,KAAK,GAAG,IAAI;IACxB,CAAC;IAED,MAAMa,UAAU,GAAGA,CAAA,KAAM;MACvBhB,SAAS,CAACG,KAAK,GAAG,KAAK;MACvBF,aAAa,CAACE,KAAK,GAAG,IAAI;IAC5B,CAAC;IAED,MAAMc,kBAAkB,GAAIC,KAAK,IAAK;MACpC,IAAIA,KAAK,CAACC,MAAM,KAAKC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,EAAE;QAC1DL,UAAU,CAAC,CAAC;MACd;IACF,CAAC;IAEDpB,SAAS,CAAC,MAAM;MACdY,UAAU,CAAC,CAAC;MACZc,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAEN,kBAAkB,CAAC;IACtD,CAAC,CAAC;IAEFpB,eAAe,CAAC,MAAM;MACpByB,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAEP,kBAAkB,CAAC;IACzD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}