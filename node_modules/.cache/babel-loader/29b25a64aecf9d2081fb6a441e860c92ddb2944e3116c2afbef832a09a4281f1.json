{"ast":null,"code":"import { ref, onMounted, onBeforeUnmount } from \"vue\";\nimport axios from \"axios\";\nimport \"../assets/AnimeView.css\";\nimport AnimeList from \"../components/AnimeList.vue\";\nimport AnimeDetail from \"../components/AnimeDetail.vue\";\nexport default {\n  __name: 'AnimeView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const animes = ref([]);\n    const showModal = ref(false);\n    const selectedAnime = ref(null);\n    const loadAnimes = async () => {\n      try {\n        const {\n          data\n        } = await axios.get(\"https://api.jikan.moe/v4/top/anime\");\n        animes.value = data.data;\n      } catch (err) {\n        console.error(\"Error cargando animes:\", err);\n      }\n    };\n    const showDetail = anime => {\n      selectedAnime.value = anime;\n      showModal.value = true;\n    };\n    const closeModal = () => {\n      showModal.value = false;\n      selectedAnime.value = null;\n    };\n    const handleClickOutside = event => {\n      if (event.target === document.getElementById(\"animeModal\")) {\n        closeModal();\n      }\n    };\n    onMounted(() => {\n      loadAnimes();\n      window.addEventListener(\"click\", handleClickOutside);\n    });\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"click\", handleClickOutside);\n    });\n    const __returned__ = {\n      animes,\n      showModal,\n      selectedAnime,\n      loadAnimes,\n      showDetail,\n      closeModal,\n      handleClickOutside,\n      ref,\n      onMounted,\n      onBeforeUnmount,\n      get axios() {\n        return axios;\n      },\n      AnimeList,\n      AnimeDetail\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onBeforeUnmount","axios","AnimeList","AnimeDetail","animes","showModal","selectedAnime","loadAnimes","data","get","value","err","console","error","showDetail","anime","closeModal","handleClickOutside","event","target","document","getElementById","window","addEventListener","removeEventListener"],"sources":["C:/Users/ellen/Downloads/proyectoxample/proyectoxample/src/views/AnimeView.vue"],"sourcesContent":["<template>\r\n  <div class=\"anime-view\">\r\n    <!-- Listado de animes -->\r\n    <AnimeList \r\n      :animes=\"animes\"\r\n      @select-anime=\"showDetail\"\r\n    />\r\n\r\n    <!-- Modal detalle -->\r\n    <AnimeDetail \r\n      :show=\"showModal\"\r\n      :anime=\"selectedAnime\"\r\n      @close=\"closeModal\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onBeforeUnmount } from \"vue\"\r\nimport axios from \"axios\"\r\nimport \"../assets/AnimeView.css\"\r\n\r\nimport AnimeList from \"../components/AnimeList.vue\"\r\nimport AnimeDetail from \"../components/AnimeDetail.vue\"\r\n\r\nconst animes = ref([])\r\nconst showModal = ref(false)\r\nconst selectedAnime = ref(null)\r\n\r\nconst loadAnimes = async () => {\r\n  try {\r\n    const { data } = await axios.get(\"https://api.jikan.moe/v4/top/anime\")\r\n    animes.value = data.data\r\n  } catch (err) {\r\n    console.error(\"Error cargando animes:\", err)\r\n  }\r\n}\r\n\r\nconst showDetail = (anime) => {\r\n  selectedAnime.value = anime\r\n  showModal.value = true\r\n}\r\n\r\nconst closeModal = () => {\r\n  showModal.value = false\r\n  selectedAnime.value = null\r\n}\r\n\r\nconst handleClickOutside = (event) => {\r\n  if (event.target === document.getElementById(\"animeModal\")) {\r\n    closeModal()\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  loadAnimes()\r\n  window.addEventListener(\"click\", handleClickOutside)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener(\"click\", handleClickOutside)\r\n})\r\n</script>\r\n"],"mappings":"AAkBA,SAASA,GAAG,EAAEC,SAAS,EAAEC,eAAe,QAAQ,KAAK;AACrD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,yBAAyB;AAEhC,OAAOC,SAAS,MAAM,6BAA6B;AACnD,OAAOC,WAAW,MAAM,+BAA+B;;;;;;;IAEvD,MAAMC,MAAM,GAAGN,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMO,SAAS,GAAGP,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMQ,aAAa,GAAGR,GAAG,CAAC,IAAI,CAAC;IAE/B,MAAMS,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,oCAAoC,CAAC;QACtEL,MAAM,CAACM,KAAK,GAAGF,IAAI,CAACA,IAAI;MAC1B,CAAC,CAAC,OAAOG,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC;MAC9C;IACF,CAAC;IAED,MAAMG,UAAU,GAAIC,KAAK,IAAK;MAC5BT,aAAa,CAACI,KAAK,GAAGK,KAAK;MAC3BV,SAAS,CAACK,KAAK,GAAG,IAAI;IACxB,CAAC;IAED,MAAMM,UAAU,GAAGA,CAAA,KAAM;MACvBX,SAAS,CAACK,KAAK,GAAG,KAAK;MACvBJ,aAAa,CAACI,KAAK,GAAG,IAAI;IAC5B,CAAC;IAED,MAAMO,kBAAkB,GAAIC,KAAK,IAAK;MACpC,IAAIA,KAAK,CAACC,MAAM,KAAKC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,EAAE;QAC1DL,UAAU,CAAC,CAAC;MACd;IACF,CAAC;IAEDjB,SAAS,CAAC,MAAM;MACdQ,UAAU,CAAC,CAAC;MACZe,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAEN,kBAAkB,CAAC;IACtD,CAAC,CAAC;IAEFjB,eAAe,CAAC,MAAM;MACpBsB,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAEP,kBAAkB,CAAC;IACzD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}