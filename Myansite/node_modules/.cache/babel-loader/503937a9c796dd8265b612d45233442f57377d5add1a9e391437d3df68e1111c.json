{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport '../assets/rickandmorty.css';\nimport CharactersList from '../components/CharactersList.vue';\nimport CharacterDetail from '../components/CharacterDetail.vue';\n\n// Estado global en la vista\n\nexport default {\n  __name: 'RickAndMorty',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const characters = ref([]);\n    const showModal = ref(false);\n    const selectedCharacter = ref(null);\n    const episodes = ref([]);\n\n    // Obtener personajes\n    const getCharacters = async () => {\n      try {\n        const response = await axios.get('https://rickandmortyapi.com/api/character');\n        characters.value = response.data.results;\n      } catch (error) {\n        console.error('Error al obtener personajes:', error);\n      }\n    };\n\n    // Mostrar detalle\n    const showDetail = async character => {\n      selectedCharacter.value = character;\n      showModal.value = true;\n      try {\n        const episodeRequests = character.episode.slice(0, 5).map(url => axios.get(url));\n        const responses = await Promise.all(episodeRequests);\n        episodes.value = responses.map(r => r.data);\n      } catch (error) {\n        console.error('Error al obtener episodios:', error);\n      }\n    };\n\n    // Cerrar modal\n    const closeModal = () => {\n      showModal.value = false;\n      selectedCharacter.value = null;\n      episodes.value = [];\n    };\n    onMounted(getCharacters);\n    const __returned__ = {\n      characters,\n      showModal,\n      selectedCharacter,\n      episodes,\n      getCharacters,\n      showDetail,\n      closeModal,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      },\n      CharactersList,\n      CharacterDetail\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","CharactersList","CharacterDetail","characters","showModal","selectedCharacter","episodes","getCharacters","response","get","value","data","results","error","console","showDetail","character","episodeRequests","episode","slice","map","url","responses","Promise","all","r","closeModal"],"sources":["C:/Users/ellen/Downloads/proyectoxample/proyectoxample/src/views/RickAndMorty.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Listado de personajes -->\r\n    <CharactersList \r\n      v-if=\"!showModal\"\r\n      :characters=\"characters\"\r\n      @select-character=\"showDetail\"\r\n    />\r\n\r\n    <!-- Modal de detalle -->\r\n    <CharacterDetail \r\n      :show=\"showModal\"\r\n      :character=\"selectedCharacter\"\r\n      :episodes=\"episodes\"\r\n      @close=\"closeModal\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios'\r\nimport '../assets/rickandmorty.css'\r\n\r\nimport CharactersList from '../components/CharactersList.vue'\r\nimport CharacterDetail from '../components/CharacterDetail.vue'\r\n\r\n// Estado global en la vista\r\nconst characters = ref([])\r\nconst showModal = ref(false)\r\nconst selectedCharacter = ref(null)\r\nconst episodes = ref([])\r\n\r\n// Obtener personajes\r\nconst getCharacters = async () => {\r\n  try {\r\n    const response = await axios.get('https://rickandmortyapi.com/api/character')\r\n    characters.value = response.data.results\r\n  } catch (error) {\r\n    console.error('Error al obtener personajes:', error)\r\n  }\r\n}\r\n\r\n// Mostrar detalle\r\nconst showDetail = async (character) => {\r\n  selectedCharacter.value = character\r\n  showModal.value = true\r\n  try {\r\n    const episodeRequests = character.episode.slice(0, 5).map(url => axios.get(url))\r\n    const responses = await Promise.all(episodeRequests)\r\n    episodes.value = responses.map(r => r.data)\r\n  } catch (error) {\r\n    console.error('Error al obtener episodios:', error)\r\n  }\r\n}\r\n\r\n// Cerrar modal\r\nconst closeModal = () => {\r\n  showModal.value = false\r\n  selectedCharacter.value = null\r\n  episodes.value = []\r\n}\r\n\r\nonMounted(getCharacters)\r\n</script>\r\n"],"mappings":";;AAoBA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,4BAA4B;AAEnC,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,eAAe,MAAM,mCAAmC;;AAE/D;;;;;;;;IACA,MAAMC,UAAU,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMM,SAAS,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMO,iBAAiB,GAAGP,GAAG,CAAC,IAAI,CAAC;IACnC,MAAMQ,QAAQ,GAAGR,GAAG,CAAC,EAAE,CAAC;;IAExB;IACA,MAAMS,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,2CAA2C,CAAC;QAC7EN,UAAU,CAACO,KAAK,GAAGF,QAAQ,CAACG,IAAI,CAACC,OAAO;MAC1C,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;;IAED;IACA,MAAME,UAAU,GAAG,MAAOC,SAAS,IAAK;MACtCX,iBAAiB,CAACK,KAAK,GAAGM,SAAS;MACnCZ,SAAS,CAACM,KAAK,GAAG,IAAI;MACtB,IAAI;QACF,MAAMO,eAAe,GAAGD,SAAS,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAACC,GAAG,IAAIrB,KAAK,CAACS,GAAG,CAACY,GAAG,CAAC,CAAC;QAChF,MAAMC,SAAS,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACP,eAAe,CAAC;QACpDX,QAAQ,CAACI,KAAK,GAAGY,SAAS,CAACF,GAAG,CAACK,CAAC,IAAIA,CAAC,CAACd,IAAI,CAAC;MAC7C,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC;;IAED;IACA,MAAMa,UAAU,GAAGA,CAAA,KAAM;MACvBtB,SAAS,CAACM,KAAK,GAAG,KAAK;MACvBL,iBAAiB,CAACK,KAAK,GAAG,IAAI;MAC9BJ,QAAQ,CAACI,KAAK,GAAG,EAAE;IACrB,CAAC;IAEDX,SAAS,CAACQ,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}