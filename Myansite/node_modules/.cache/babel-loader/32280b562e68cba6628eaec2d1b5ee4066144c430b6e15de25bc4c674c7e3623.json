{"ast":null,"code":"import { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"btn-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-btn-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-btn-group\"\n};\nconst _hoisted_5 = {\n  key: 3\n};\nconst _hoisted_6 = {\n  class: \"carousel-container\"\n};\nconst _hoisted_7 = {\n  class: \"carousel-track\"\n};\nconst _hoisted_8 = [\"src\", \"alt\"];\nimport { ref } from \"vue\";\nimport { createClient } from \"@supabase/supabase-js\";\nimport axios from \"axios\";\nimport \"@/assets/styles.css\";\nexport default {\n  __name: 'LoginView',\n  setup(__props) {\n    const supabase = createClient(\"https://neffqwnqpcydidpkysfi.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5lZmZxd25xcGN5ZGlkcGt5c2ZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3Nzc5MTUsImV4cCI6MjA3MjM1MzkxNX0.I_fwrJYMhKoh2Irlhqub3B5Kn4-JxuJR-XnLhGjUykw\");\n\n    // Estado\n    const vista = ref(\"home\");\n    const usuario = ref(\"\");\n    const correo = ref(\"\");\n    const contrasena = ref(\"\");\n    const noticias = ref([]);\n\n    // Registro\n    async function registrar() {\n      const {\n        error\n      } = await supabase.from(\"usuarios\").insert([{\n        nombre: usuario.value,\n        correo: correo.value,\n        contrasena: contrasena.value\n      }]);\n      if (error) alert(\"❌ Error: \" + error.message);else {\n        alert(\"✅ Usuario registrado\");\n        vista.value = \"home\";\n      }\n    }\n\n    // Login\n    async function login() {\n      const {\n        data,\n        error\n      } = await supabase.from(\"usuarios\").select(\"*\").eq(\"correo\", correo.value).maybeSingle();\n      if (error) {\n        alert(\"❌ Error: \" + error.message);\n      } else if (!data) {\n        alert(\"⚠️ Usuario no encontrado\");\n      } else if (data.contrasena === contrasena.value) {\n        alert(\"🎉 Bienvenido \" + data.nombre);\n        localStorage.setItem(\"usuario\", JSON.stringify(data));\n        window.location.href = \"/contenido\";\n      } else {\n        alert(\"⚠️ Contraseña incorrecta\");\n      }\n    }\n\n    // Noticias Anime\n    async function mostrarNoticias() {\n      try {\n        const res = await axios.get(\"https://api.jikan.moe/v4/top/anime?limit=10\");\n        noticias.value = res.data.data;\n        vista.value = \"noticias\";\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(_Fragment, null, [_cache[15] || (_cache[15] = _createElementVNode(\"header\", {\n        class: \"hero\"\n      }, null, -1)), _createElementVNode(\"main\", _hoisted_1, [vista.value === 'home' ? (_openBlock(), _createElementBlock(_Fragment, {\n        key: 0\n      }, [_cache[10] || (_cache[10] = _createElementVNode(\"h1\", null, \"Bienvenido!!!\", -1)), _cache[11] || (_cache[11] = _createElementVNode(\"p\", {\n        class: \"lead\"\n      }, \"Myansite un lugar único donde el anime vive\", -1)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n        class: \"btn\",\n        onClick: _cache[0] || (_cache[0] = $event => vista.value = 'login')\n      }, \"Iniciar sesión!\"), _createElementVNode(\"button\", {\n        class: \"btn\",\n        onClick: _cache[1] || (_cache[1] = $event => vista.value = 'registro')\n      }, \"Registro!\"), _createElementVNode(\"button\", {\n        class: \"btn\",\n        onClick: mostrarNoticias\n      }, \"Noticias Anime!\")])], 64)) : _createCommentVNode(\"\", true), vista.value === 'login' ? (_openBlock(), _createElementBlock(\"form\", {\n        key: 1,\n        onSubmit: _withModifiers(login, [\"prevent\"])\n      }, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"email\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => correo.value = $event),\n        placeholder: \"Correo\",\n        required: \"\"\n      }, null, 512), [[_vModelText, correo.value]]), _withDirectives(_createElementVNode(\"input\", {\n        type: \"password\",\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => contrasena.value = $event),\n        placeholder: \"Contraseña\",\n        required: \"\"\n      }, null, 512), [[_vModelText, contrasena.value]]), _createElementVNode(\"div\", _hoisted_3, [_cache[12] || (_cache[12] = _createElementVNode(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-primary\"\n      }, \"Entrar\", -1)), _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-outline\",\n        onClick: _cache[4] || (_cache[4] = $event => vista.value = 'home')\n      }, \"Volver\")])], 32)) : _createCommentVNode(\"\", true), vista.value === 'registro' ? (_openBlock(), _createElementBlock(\"form\", {\n        key: 2,\n        onSubmit: _withModifiers(registrar, [\"prevent\"])\n      }, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => usuario.value = $event),\n        placeholder: \"Usuario\",\n        required: \"\"\n      }, null, 512), [[_vModelText, usuario.value]]), _withDirectives(_createElementVNode(\"input\", {\n        type: \"email\",\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => correo.value = $event),\n        placeholder: \"Correo\",\n        required: \"\"\n      }, null, 512), [[_vModelText, correo.value]]), _withDirectives(_createElementVNode(\"input\", {\n        type: \"password\",\n        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => contrasena.value = $event),\n        placeholder: \"Contraseña\",\n        required: \"\"\n      }, null, 512), [[_vModelText, contrasena.value]]), _createElementVNode(\"div\", _hoisted_4, [_cache[13] || (_cache[13] = _createElementVNode(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-primary\"\n      }, \"Registrarse\", -1)), _createElementVNode(\"button\", {\n        type: \"button\",\n        class: \"btn btn-outline\",\n        onClick: _cache[8] || (_cache[8] = $event => vista.value = 'home')\n      }, \"Volver\")])], 32)) : _createCommentVNode(\"\", true), vista.value === 'noticias' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[14] || (_cache[14] = _createElementVNode(\"h2\", null, \"Noticias de Anime\", -1)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(noticias.value, anime => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: anime.mal_id,\n          class: \"anime-card\"\n        }, [_createElementVNode(\"img\", {\n          src: anime.images.jpg.large_image_url,\n          alt: anime.title\n        }, null, 8, _hoisted_8), _createElementVNode(\"h3\", null, _toDisplayString(anime.title), 1)]);\n      }), 128))])]), _createElementVNode(\"button\", {\n        class: \"btn btn-outline\",\n        onClick: _cache[9] || (_cache[9] = $event => vista.value = 'home')\n      }, \"Volver\")])) : _createCommentVNode(\"\", true)])], 64);\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}