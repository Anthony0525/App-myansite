{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport axios from 'axios';\n// Importar estilos desde assets\nimport '@/assets/rickandmorty.css';\n\n// Estado reactivo\n\nexport default {\n  __name: 'RickAndMorty',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const characters = ref([]);\n    const showModal = ref(false);\n    const selectedCharacter = ref(null);\n    const episodes = ref([]);\n\n    // Obtener personajes de la API\n    const getCharacters = async () => {\n      try {\n        const response = await axios.get('https://rickandmortyapi.com/api/character');\n        characters.value = response.data.results;\n      } catch (error) {\n        console.error('Error al obtener personajes:', error);\n      }\n    };\n\n    // Mostrar detalle del personaje\n    const showDetail = async character => {\n      selectedCharacter.value = character;\n      showModal.value = true;\n      try {\n        // Solo mostrar 5 episodios para rendimiento\n        const episodeRequests = character.episode.slice(0, 5).map(url => axios.get(url));\n        const responses = await Promise.all(episodeRequests);\n        episodes.value = responses.map(response => response.data);\n      } catch (error) {\n        console.error('Error al obtener episodios:', error);\n      }\n    };\n\n    // Cerrar modal\n    const closeModal = () => {\n      showModal.value = false;\n      selectedCharacter.value = null;\n      episodes.value = [];\n    };\n\n    // Cerrar modal al hacer clic fuera\n    const handleClickOutside = event => {\n      if (event.target.classList.contains('modal')) {\n        closeModal();\n      }\n    };\n\n    // Hooks del ciclo de vida\n    onMounted(() => {\n      getCharacters();\n      window.addEventListener('click', handleClickOutside);\n    });\n    onBeforeUnmount(() => {\n      window.removeEventListener('click', handleClickOutside);\n    });\n    const __returned__ = {\n      characters,\n      showModal,\n      selectedCharacter,\n      episodes,\n      getCharacters,\n      showDetail,\n      closeModal,\n      handleClickOutside,\n      ref,\n      onMounted,\n      onBeforeUnmount,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onBeforeUnmount","axios","characters","showModal","selectedCharacter","episodes","getCharacters","response","get","value","data","results","error","console","showDetail","character","episodeRequests","episode","slice","map","url","responses","Promise","all","closeModal","handleClickOutside","event","target","classList","contains","window","addEventListener","removeEventListener"],"sources":["C:/Users/ellen/Downloads/proyectoxample/proyectoxample/src/views/RickAndMorty.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Listado de personajes -->\r\n    <div class=\"characters-container\" v-if=\"!showModal\">\r\n      <div \r\n        v-for=\"character in characters\" \r\n        :key=\"character.id\" \r\n        class=\"character-card\"\r\n        @click=\"showDetail(character)\"\r\n      >\r\n        <img :src=\"character.image\" :alt=\"character.name\" />\r\n        <h3>{{ character.name }}</h3>\r\n        <p>\r\n          <span :class=\"'status-indicator status-' + character.status.toLowerCase()\"></span>\r\n          {{ character.status }} - {{ character.species }}\r\n        </p>\r\n        <p>Última ubicación: {{ character.location.name }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal para detalles -->\r\n    <div class=\"modal\" :style=\"{ display: showModal ? 'flex' : 'none' }\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"closeModal\">&times;</span>\r\n        \r\n        <img :src=\"selectedCharacter?.image\" :alt=\"selectedCharacter?.name\" />\r\n        <h2>{{ selectedCharacter?.name }}</h2>\r\n        \r\n        <p>\r\n          <span :class=\"'status-indicator status-' + selectedCharacter?.status?.toLowerCase()\"></span>\r\n          {{ selectedCharacter?.status }} - {{ selectedCharacter?.species }}\r\n        </p>\r\n        \r\n        <p><strong>Género:</strong> {{ selectedCharacter?.gender }}</p>\r\n        <p><strong>Origen:</strong> {{ selectedCharacter?.origin?.name }}</p>\r\n        <p><strong>Última ubicación:</strong> {{ selectedCharacter?.location?.name }}</p>\r\n        \r\n        <h3>Episodios:</h3>\r\n        <ul class=\"episodes-list\">\r\n          <li v-for=\"(ep, index) in episodes\" :key=\"index\">\r\n            {{ ep.episode }} - {{ ep.name }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\r\nimport axios from 'axios'\r\n// Importar estilos desde assets\r\nimport '@/assets/rickandmorty.css'\r\n\r\n// Estado reactivo\r\nconst characters = ref([])\r\nconst showModal = ref(false)\r\nconst selectedCharacter = ref(null)\r\nconst episodes = ref([])\r\n\r\n// Obtener personajes de la API\r\nconst getCharacters = async () => {\r\n  try {\r\n    const response = await axios.get('https://rickandmortyapi.com/api/character')\r\n    characters.value = response.data.results\r\n  } catch (error) {\r\n    console.error('Error al obtener personajes:', error)\r\n  }\r\n}\r\n\r\n// Mostrar detalle del personaje\r\nconst showDetail = async (character) => {\r\n  selectedCharacter.value = character\r\n  showModal.value = true\r\n  \r\n  try {\r\n    // Solo mostrar 5 episodios para rendimiento\r\n    const episodeRequests = character.episode.slice(0, 5).map(url => axios.get(url))\r\n    const responses = await Promise.all(episodeRequests)\r\n    episodes.value = responses.map(response => response.data)\r\n  } catch (error) {\r\n    console.error('Error al obtener episodios:', error)\r\n  }\r\n}\r\n\r\n// Cerrar modal\r\nconst closeModal = () => {\r\n  showModal.value = false\r\n  selectedCharacter.value = null\r\n  episodes.value = []\r\n}\r\n\r\n// Cerrar modal al hacer clic fuera\r\nconst handleClickOutside = (event) => {\r\n  if (event.target.classList.contains('modal')) {\r\n    closeModal()\r\n  }\r\n}\r\n\r\n// Hooks del ciclo de vida\r\nonMounted(() => {\r\n  getCharacters()\r\n  window.addEventListener('click', handleClickOutside)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('click', handleClickOutside)\r\n})\r\n</script>\r\n"],"mappings":";;AAiDA,SAASA,GAAG,EAAEC,SAAS,EAAEC,eAAe,QAAQ,KAAK;AACrD,OAAOC,KAAK,MAAM,OAAO;AACzB;AACA,OAAO,2BAA2B;;AAElC;;;;;;;;IACA,MAAMC,UAAU,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMK,SAAS,GAAGL,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMM,iBAAiB,GAAGN,GAAG,CAAC,IAAI,CAAC;IACnC,MAAMO,QAAQ,GAAGP,GAAG,CAAC,EAAE,CAAC;;IAExB;IACA,MAAMQ,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,2CAA2C,CAAC;QAC7EN,UAAU,CAACO,KAAK,GAAGF,QAAQ,CAACG,IAAI,CAACC,OAAO;MAC1C,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;;IAED;IACA,MAAME,UAAU,GAAG,MAAOC,SAAS,IAAK;MACtCX,iBAAiB,CAACK,KAAK,GAAGM,SAAS;MACnCZ,SAAS,CAACM,KAAK,GAAG,IAAI;MAEtB,IAAI;QACF;QACA,MAAMO,eAAe,GAAGD,SAAS,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAACC,GAAG,IAAInB,KAAK,CAACO,GAAG,CAACY,GAAG,CAAC,CAAC;QAChF,MAAMC,SAAS,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACP,eAAe,CAAC;QACpDX,QAAQ,CAACI,KAAK,GAAGY,SAAS,CAACF,GAAG,CAACZ,QAAQ,IAAIA,QAAQ,CAACG,IAAI,CAAC;MAC3D,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC;;IAED;IACA,MAAMY,UAAU,GAAGA,CAAA,KAAM;MACvBrB,SAAS,CAACM,KAAK,GAAG,KAAK;MACvBL,iBAAiB,CAACK,KAAK,GAAG,IAAI;MAC9BJ,QAAQ,CAACI,KAAK,GAAG,EAAE;IACrB,CAAC;;IAED;IACA,MAAMgB,kBAAkB,GAAIC,KAAK,IAAK;MACpC,IAAIA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,OAAO,CAAC,EAAE;QAC5CL,UAAU,CAAC,CAAC;MACd;IACF,CAAC;;IAED;IACAzB,SAAS,CAAC,MAAM;MACdO,aAAa,CAAC,CAAC;MACfwB,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAEN,kBAAkB,CAAC;IACtD,CAAC,CAAC;IAEFzB,eAAe,CAAC,MAAM;MACpB8B,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAEP,kBAAkB,CAAC;IACzD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}