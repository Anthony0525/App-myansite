{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"main-content\"\n};\nconst _hoisted_3 = {\n  class: \"card-header\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"sidebar\"\n};\nconst _hoisted_7 = {\n  class: \"suggestions\"\n};\nconst _hoisted_8 = {\n  class: \"suggestions-list\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"loader\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"main\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.publicaciones, pub => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: pub.id,\n      class: \"card\"\n    }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n      src: pub.perfiles?.icono_url || 'https://i.pravatar.cc/40',\n      class: \"perfil-icono\"\n    }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"span\", null, _toDisplayString(pub.perfiles?.nombre_perfil || \"Anónimo\"), 1 /* TEXT */)]), _createElementVNode(\"h2\", null, _toDisplayString(pub.nombre_publicacion), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(pub.descripcion), 1 /* TEXT */), pub.media_url ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: pub.media_url,\n      class: \"media\"\n    }, null, 8 /* PROPS */, _hoisted_5)) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"aside\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[0] || (_cache[0] = _createElementVNode(\"p\", {\n    class: \"suggestions-title\"\n  }, \"Sugeridos!\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(6, i => {\n    return _createElementVNode(\"div\", {\n      key: i,\n      class: \"suggestion-icon\",\n      style: _normalizeStyle(`background-image:url(https://i.pravatar.cc/50?img=${i})`)\n    }, null, 4 /* STYLE */);\n  }), 64 /* STABLE_FRAGMENT */))])])])]), $setup.cargando ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \"Cargando...\")) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","_renderList","$setup","publicaciones","pub","id","_hoisted_3","src","perfiles","icono_url","_hoisted_4","_toDisplayString","nombre_perfil","nombre_publicacion","descripcion","media_url","_hoisted_5","_createCommentVNode","_hoisted_6","_hoisted_7","_hoisted_8","i","style","_normalizeStyle","cargando","_hoisted_9"],"sources":["C:\\Users\\ellen\\Downloads\\App en Vue\\Myansite\\Myansite\\src\\views\\ContenidoView.vue"],"sourcesContent":["<template>\r\n \r\n  <div class=\"container\">\r\n    <main class=\"main-content\">\r\n      <div v-for=\"pub in publicaciones\" :key=\"pub.id\" class=\"card\">\r\n        <div class=\"card-header\">\r\n          <img :src=\"pub.perfiles?.icono_url || 'https://i.pravatar.cc/40'\" class=\"perfil-icono\"/>\r\n          <span>{{ pub.perfiles?.nombre_perfil || \"Anónimo\" }}</span>\r\n        </div>\r\n        <h2>{{ pub.nombre_publicacion }}</h2>\r\n        <p>{{ pub.descripcion }}</p>\r\n        <img v-if=\"pub.media_url\" :src=\"pub.media_url\" class=\"media\"/>\r\n      </div>\r\n    </main>\r\n\r\n    <aside class=\"sidebar\">\r\n      <div class=\"suggestions\">\r\n        <p class=\"suggestions-title\">Sugeridos!</p>\r\n        <div class=\"suggestions-list\">\r\n          <div v-for=\"i in 6\" :key=\"i\" class=\"suggestion-icon\"\r\n            :style=\"`background-image:url(https://i.pravatar.cc/50?img=${i})`\"></div>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  </div>\r\n\r\n  <div v-if=\"cargando\" class=\"loader\">Cargando...</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\"\r\nimport { createClient } from \"@supabase/supabase-js\"\r\nimport \"@/assets/contenido.css\"\r\n\r\nconst supabase = createClient(\"https://neffqwnqpcydidpkysfi.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5lZmZxd25xcGN5ZGlkcGt5c2ZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3Nzc5MTUsImV4cCI6MjA3MjM1MzkxNX0.I_fwrJYMhKoh2Irlhqub3B5Kn4-JxuJR-XnLhGjUykw\")\r\n\r\nconst publicaciones = ref([])\r\nconst cargando = ref(false)\r\nconst pagina = ref(0)\r\nconst limite = 5\r\n\r\n\r\n\r\n\r\nasync function cargarPublicaciones() {\r\n  cargando.value = true\r\n  const { data, error } = await supabase.from(\"publicaciones\")\r\n    .select(`id, nombre_publicacion, descripcion, media_url, perfiles (nombre_perfil, icono_url)`)\r\n    .order(\"created_at\", { ascending: false })\r\n    .range(pagina.value * limite, (pagina.value + 1) * limite - 1)\r\n\r\n  cargando.value = false\r\n  if (!error && data.length) {\r\n    publicaciones.value.push(...data)\r\n    pagina.value++\r\n  }\r\n}\r\n\r\nfunction handleScroll() {\r\n  if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\r\n    cargarPublicaciones()\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  cargarPublicaciones()\r\n  window.addEventListener(\"scroll\", handleScroll)\r\n})\r\n</script>\r\n"],"mappings":";;EAEOA,KAAK,EAAC;AAAW;;EACdA,KAAK,EAAC;AAAc;;EAEjBA,KAAK,EAAC;AAAa;mBALhC;mBAAA;;EAeWA,KAAK,EAAC;AAAS;;EACfA,KAAK,EAAC;AAAa;;EAEjBA,KAAK,EAAC;AAAkB;;EAlBrCC,GAAA;EA0BuBD,KAAK,EAAC;;;uBA1B7BE,mBAAA,CAAAC,SAAA,SAEEC,mBAAA,CAsBM,OAtBNC,UAsBM,GArBJD,mBAAA,CAUO,QAVPE,UAUO,I,kBATLJ,mBAAA,CAQMC,SAAA,QAZZI,WAAA,CAIyBC,MAAA,CAAAC,aAAa,EAApBC,GAAG;yBAAfR,mBAAA,CAQM;MAR6BD,GAAG,EAAES,GAAG,CAACC,EAAE;MAAEX,KAAK,EAAC;QACpDI,mBAAA,CAGM,OAHNQ,UAGM,GAFJR,mBAAA,CAAwF;MAAlFS,GAAG,EAAEH,GAAG,CAACI,QAAQ,EAAEC,SAAS;MAAgCf,KAAK,EAAC;4BANlFgB,UAAA,GAOUZ,mBAAA,CAA2D,cAAAa,gBAAA,CAAlDP,GAAG,CAACI,QAAQ,EAAEI,aAAa,8B,GAEtCd,mBAAA,CAAqC,YAAAa,gBAAA,CAA9BP,GAAG,CAACS,kBAAkB,kBAC7Bf,mBAAA,CAA4B,WAAAa,gBAAA,CAAtBP,GAAG,CAACU,WAAW,kBACVV,GAAG,CAACW,SAAS,I,cAAxBnB,mBAAA,CAA8D;MAXtED,GAAA;MAWmCY,GAAG,EAAEH,GAAG,CAACW,SAAS;MAAErB,KAAK,EAAC;4BAX7DsB,UAAA,KAAAC,mBAAA,e;oCAeInB,mBAAA,CAQQ,SARRoB,UAQQ,GAPNpB,mBAAA,CAMM,OANNqB,UAMM,G,0BALJrB,mBAAA,CAA2C;IAAxCJ,KAAK,EAAC;EAAmB,GAAC,YAAU,sBACvCI,mBAAA,CAGM,OAHNsB,UAGM,I,cAFJxB,mBAAA,CAC2EC,SAAA,QApBrFI,WAAA,CAmB2B,CAAC,EAANoB,CAAC;WAAbvB,mBAAA,CAC2E;MADtDH,GAAG,EAAE0B,CAAC;MAAE3B,KAAK,EAAC,iBAAiB;MACjD4B,KAAK,EApBlBC,eAAA,sDAoByEF,CAAC;;0CAM7DnB,MAAA,CAAAsB,QAAQ,I,cAAnB5B,mBAAA,CAAqD,OAArD6B,UAAqD,EAAjB,aAAW,KA1BjDR,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}