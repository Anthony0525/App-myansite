"use strict";(self["webpackChunkproyectexample"]=self["webpackChunkproyectexample"]||[]).push([[59],{1059:function(e,a,l){l.r(a),l.d(a,{default:function(){return h}});l(4114);var i=l(6768),s=l(144),n=l(4232),c=l(1300),r=l(4790);const u={class:"container"},t={class:"main-content"},o={class:"card-header"},d=["src"],p=["src"],v={class:"sidebar"},k={class:"suggestions"},b={class:"suggestions-list"},m={key:0,class:"loader"},g=5;var f={__name:"ContenidoView",setup(e){const a=(0,c.UU)("https://neffqwnqpcydidpkysfi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5lZmZxd25xcGN5ZGlkcGt5c2ZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3Nzc5MTUsImV4cCI6MjA3MjM1MzkxNX0.I_fwrJYMhKoh2Irlhqub3B5Kn4-JxuJR-XnLhGjUykw"),l=(0,s.KR)([]),f=(0,s.KR)(!1),I=(0,s.KR)(0),_=(0,s.KR)(!0);async function h(){if(f.value)return;f.value=!0;const e=I.value*g,i=e+g-1,{data:s,error:n}=await a.from("publicaciones").select("id, nombre_publicacion, descripcion, media_url, perfiles (nombre_perfil, icono_url)").order("created_at",{ascending:!1}).range(e,i);if(f.value=!1,n)return console.error("Error al cargar publicaciones:",n),void(_.value=!1);s&&s.length?(l.value.push(...s),I.value++,s.length<g&&(_.value=!1)):_.value=!1}async function y(e){_.value?(await h(),e.target.complete()):e.target.complete()}return(0,i.sV)((()=>{h()})),(e,a)=>((0,i.uX)(),(0,i.Wv)((0,s.R1)(r.AO),null,{default:(0,i.k6)((()=>[(0,i.bF)((0,s.R1)(r.W9),null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",u,[(0,i.Lk)("main",t,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.value,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"card"},[(0,i.Lk)("div",o,[(0,i.Lk)("img",{src:e.perfiles?.icono_url||"https://i.pravatar.cc/40",class:"perfil-icono"},null,8,d),(0,i.Lk)("span",null,(0,n.v_)(e.perfiles?.nombre_perfil||"Anónimo"),1)]),(0,i.Lk)("h2",null,(0,n.v_)(e.nombre_publicacion),1),(0,i.Lk)("p",null,(0,n.v_)(e.descripcion),1),e.media_url?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.media_url,class:"media"},null,8,p)):(0,i.Q3)("",!0)])))),128))]),(0,i.Lk)("aside",v,[(0,i.Lk)("div",k,[a[0]||(a[0]=(0,i.Lk)("p",{class:"suggestions-title"},"Sugeridos!",-1)),(0,i.Lk)("div",b,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(6,(e=>(0,i.Lk)("div",{key:e,class:"suggestion-icon",style:(0,n.Tr)(`background-image:url(https://i.pravatar.cc/50?img=${e})`)},null,4))),64))])])])]),(0,i.bF)((0,s.R1)(r.Ax),{onIonInfinite:y,disabled:!_.value},{default:(0,i.k6)((()=>[(0,i.bF)((0,s.R1)(r.Hp),{"loading-spinner":"bubbles","loading-text":"Cargando más publicaciones..."})])),_:1},8,["disabled"]),f.value?((0,i.uX)(),(0,i.CE)("div",m,"Cargando...")):(0,i.Q3)("",!0)])),_:1})])),_:1}))}},I=l(1241);const _=(0,I.A)(f,[["__scopeId","data-v-bb017bc6"]]);var h=_}}]);